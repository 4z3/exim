# CHUNKING reception
exim -DSERVER=server -bd -oX PORT_D
****
#
client 127.0.0.1 PORT_D
??? 220
ehlo tester
??? 250-
??? 250-
??? 250-
??? 250-
??? 250-CHUNKING
??? 250 HELP
mail from:someone@some.domain
??? 250
rcpt to:CALLER@HOSTNAME
??? 250
bdat 88 last
To: Susan@random.com
From: Sam@random.com
Subject: This is a bodyless test message

??? 250-
??? 250
quit
??? 221
****
#
client 127.0.0.1 PORT_D
??? 220
ehlo tester
??? 250-
??? 250-
??? 250-
??? 250-
??? 250-
??? 250 
mail from:someone@some.domain
??? 250
rcpt to:CALLER@HOSTNAME
??? 250
bdat 100
To: Susan@random.com
From: Sam@random.com
Subject: This is a bodyfull test message

1234567890
??? 250
noop
??? 250
bdat 0 last
??? 250-
??? 250
mail from:someone@some.domain
??? 250
rcpt to:CALLER@HOSTNAME
??? 250
bdat 10
To: Susan@bdat 78 last
??? 250
random.com
From: Sam@random.com
Subject: This is a bodyless test message

??? 250-
??? 250
quit
??? 221
****
#
# not enough data in chunk
#
client 127.0.0.1 PORT_D
??? 220
ehlo tester
??? 250-
??? 250-
??? 250-
??? 250-
??? 250-
??? 250 
mail from:someone@some.domain
??? 250
rcpt to:CALLER@HOSTNAME
??? 250
bdat 89 last
To: Susan@random.com
From: Sam@random.com
Subject: This is a bodyless test message

??? 421
****
#
# protocol failure cases
#
client 127.0.0.1 PORT_D
??? 220
ehlo tester
??? 250-
??? 250-
??? 250-
??? 250-
??? 250-
??? 250 
mail from:someone@some.domain
??? 250
rcpt to:CALLER@HOSTNAME
??? 250
bdat 88
To: Susan@random.com
From: Sam@random.com
Subject: This is a bodyless test message

??? 250
bdat 0
??? 504
quit
??? 221
****
#
client 127.0.0.1 PORT_D
??? 220
ehlo tester
??? 250-
??? 250-
??? 250-
??? 250-
??? 250-
??? 250 
mail from:someone@some.domain
??? 250
rcpt to:CALLER@HOSTNAME
??? 250
bdat 88
To: Susan@random.com
From: Sam@random.com
Subject: This is a bodyless test message

??? 250
data
??? 503
RSET
??? 250
EHLO tester
??? 250-
??? 250-
??? 250-
??? 250-
??? 250-
??? 250 
mail from:someone@some.domain
??? 250
rcpt to:CALLER@HOSTNAME
??? 250
bdat 88
To: Susan@random.com
From: Sam@random.com
Subject: This is a bodyless test message

??? 250
data
??? 503
data
??? 503
quit
??? 221
****
#
killdaemon
no_msglog_check
